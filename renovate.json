{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:base",
    ":disableRateLimiting",
    ":separateMultipleMajorReleases"
  ],
  "branchTopic": "{{{replace '\\.' '\\-' depNameSanitized}}}-{{{newMajor}}}{{#if separateMinorPatch}}{{#if isPatch}}-{{{newMinor}}}{{/if}}{{/if}}-x{{#if isLockfileUpdate}}-lockfile{{/if}}",
  "packageRules": [
    {
      "groupName": "GraphQL Java",
      "matchPackagePrefixes": [
        "com.graphql-java:"
      ],
      "allowedVersions": "/^[0-9]+(\\.[0-9]+){1,2}$/"
    },
    {
        "matchDatasources": ["docker"],
        "matchPackageNames": [
          "openjdk",
          "amazoncorretto"
        ],
        "allowedVersions": "/^(11|17|21)(\\.[0-9]+){0,2}/"
      },
      {
        "matchDatasources": ["docker"],
        "matchPackageNames": [
          "eclipse-temurin",
          "adoptopenjdk"
        ],
        "versioning": "regex:^(?<major>\\d+)(\\.(?<minor>\\d+))?(\\.(?<patch>\\d+))?(_(?<build>\\d+))?(-(?<compatibility>.*))?$",
        "allowedVersions": "/^(11|17|21)(\\.[0-9]+){0,2}/"
      }
  ]
}
